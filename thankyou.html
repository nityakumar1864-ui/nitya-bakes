<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Thank You â€” Whimsy Cakes</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  *{box-sizing:border-box}
  body{margin:0;font-family:"Quicksand",sans-serif;background:linear-gradient(135deg,#dffaf0,#f0e9ff,#fff0e6);min-height:100vh;display:flex;align-items:center;justify-content:center;color:#3b2f2f}
  .wrap{max-width:820px;width:100%;text-align:center;padding:26px}
  .card{padding:24px;border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,0.6),rgba(255,255,255,0.35));backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,0.6)}
  h1{font-family:Pacifico;font-size:40px;margin:4px 0;color:#5a3e6b}
  p{opacity:.9}
  .cta{margin-top:18px;display:flex;gap:12px;justify-content:center}
  .btn{padding:12px 16px;border-radius:12px;border:none;background:linear-gradient(90deg,#b7ffd8,#d8c8ff);font-weight:800;cursor:pointer}
  canvas{position:fixed;left:0;top:0;pointer-events:none}
</style>
</head>
<body>
  <canvas id="confetti"></canvas>
  <div class="wrap">
    <div class="card">
      <h1>Thank you â€” your order is accepted! ðŸŽ‰</h1>
      <p id="msg">Weâ€™re baking your dream. A confirmation has been saved.</p>
      <div style="margin-top:12px">
        <strong>Order ID:</strong> <span id="orderId">â€”</span>
      </div>
      <div style="margin-top:14px;opacity:.9" id="orderInfo"></div>

      <div class="cta">
        <button class="btn" id="goHome">Back to Home</button>
        <button class="btn" id="viewOrder">View Order Details</button>
      </div>
      <p style="margin-top:12px;font-size:13px;opacity:.8">You will be redirected to home in a few seconds.</p>
    </div>
  </div>

<script>
  // load confirmation
  const conf = JSON.parse(localStorage.getItem('whimsy_confirmation') || '{}');
  if(!conf || !conf.id){ document.getElementById('msg').textContent='No recent order found.'; }
  else {
    document.getElementById('orderId').textContent = conf.id;
    document.getElementById('orderInfo').textContent = `Name: ${conf.name} â€¢ Total: â‚¹${conf.total}`;
  }

  document.getElementById('goHome').addEventListener('click', ()=> location.href = 'index.html');
  document.getElementById('viewOrder').addEventListener('click', ()=> {
    alert(JSON.stringify(conf, null, 2));
  });

  // confetti (lightweight)
  (function(){
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let W = canvas.width = window.innerWidth;
    let H = canvas.height = window.innerHeight;
    const pieces = [];
    const colors = ['#FDE68A','#FBCFE8','#C7F9E8','#D1C1FF','#FFC8A2'];
    function rand(min,max){ return Math.random()*(max-min)+min; }
    function init(){
      for(let i=0;i<120;i++){
        pieces.push({
          x: rand(0,W), y: rand(-H,0),
          r: rand(6,12), d: rand(2,6),
          color: colors[Math.floor(rand(0,colors.length))],
          tilt: rand(-0.2,0.2)
        });
      }
      run();
    }
    function run(){
      ctx.clearRect(0,0,W,H);
      for(let p of pieces){
        p.y += p.d;
        p.x += Math.sin(p.y*0.01) * 2 + p.tilt;
        ctx.fillStyle = p.color;
        ctx.beginPath();
        ctx.ellipse(p.x, p.y, p.r, p.r*0.6, p.tilt, 0, Math.PI*2);
        ctx.fill();
        if(p.y > H + 20) { p.y = -10; p.x = rand(0,W); }
      }
      requestAnimationFrame(run);
    }
    window.addEventListener('resize', ()=>{ W = canvas.width = window.innerWidth; H = canvas.height = window.innerHeight; });
    init();
  })();

  // auto-redirect after a short while (6s)
  setTimeout(()=> location.href = 'index.html', 6000);
</script>
</body>
</html>
